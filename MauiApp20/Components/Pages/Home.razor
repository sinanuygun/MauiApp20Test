@page "/"
<link href="assets/css/custom.css" rel="stylesheet" />

<div class="mobile-container">
    <div class="page-content">
<!-- Welcome Card -->
<div style="margin-bottom:60px"></div>
<!-- Stats Grid -->
<div class="stats-grid">
    <div class="stat-card">
        <div class="stat-icon" style="color: #f57c00;">
            <i class="iconly-Time-Circle icbo"></i>
        </div>
        <div class="stat-value">4</div>
        <div class="stat-label">Bekleyen Görev</div>
    </div>

    <div class="stat-card">
        <div class="stat-icon" style="color: #2e7d32;">
            <i class="iconly-Tick-Square icbo"></i>
        </div>
        <div class="stat-value">2</div>
        <div class="stat-label">Tamamlanan</div>
    </div>

    <div class="stat-card">
        <div class="stat-icon" style="color: #0072CE;">
            <i class="iconly-Document icbo"></i>
        </div>
        <div class="stat-value">156</div>
        <div class="stat-label">Toplam Belge</div>
    </div>

    <div class="stat-card">
        <div class="stat-icon" style="color: #7b1fa2;">
            <i class="iconly-Chart icbo"></i>
        </div>
        <div class="stat-value">23</div>
        <div class="stat-label">Bu Ay Onaylanan</div>
    </div>
</div>

<!-- Recent Tasks Card -->
<div class="recent-tasks-card">
    <div class="card-header">
        <h3>Son Görevler</h3>
        <a href="/tasks" class="view-all-btn">Tümünü Gör</a>
    </div>
    <div class="task-list-preview">
        @foreach (var task in recentTasks)
        {
            <div class="task-preview-item">
                <div class="task-preview-title">@task.Title</div>
                <div class="task-preview-doc">@task.Document</div>
                <div class="task-preview-meta">
                    <span>@task.Date</span>
                    <span class="task-preview-badge status-pending">@task.RemainingDays</span>
                </div>
            </div>
        }
    </div>
</div>

    </div>
</div>
@code {
    private List<RecentTask> recentTasks = new();

    protected override void OnInitialized()
    {
        LoadRecentTasks();
    }

    private void LoadRecentTasks()
    {
        recentTasks = new List<RecentTask>
        {
            new RecentTask { Title = "Sözleşme Onayı", Document = "Tedarikçi Sözleşmesi - ABC Ltd.", Date = "28 Eki 2025", RemainingDays = "2 gün" },
            new RecentTask { Title = "Belge İncelemesi", Document = "Proje Teklifi - XYZ Projesi", Date = "27 Eki 2025", RemainingDays = "3 gün" },
            new RecentTask { Title = "Fatura Onayı", Document = "Fatura_2025_10_156", Date = "26 Eki 2025", RemainingDays = "4 gün" }
        };
    }

    public class RecentTask
    {
        public string Title { get; set; }
        public string Document { get; set; }
        public string Date { get; set; }
        public string RemainingDays { get; set; }
    }
}